{"version":3,"names":["useEffect","useState","memo","useRef","ActivityIndicator","Dimensions","FlatList","StyleSheet","Text","TouchableOpacity","View","generateThumbnails","FastImage","Color","AnimatedCircularProgress","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","SCREEN_WIDTH","get","width","GAP_MEDIA","calcSize","isShowAll","messageWidth","Number","sizeMedia","sizeMediaShowAll","MediaItem","item","index","size","arrMedia","isReaction","currentMessage","onPressFile","onLongPressFile","progressNum","progress","safeProgress","isFinite","Math","max","min","children","onLongPress","onPress","length","file","disabled","isLoading","typeFile","style","styles","mediaItem","height","thumbnailPreview","uri","url","source","priority","low","image","playIcon","borderRadius","color","defaultBlue","require","resizeMode","cover","reactionIcon","reactionIconText","fill","tintColor","white","backgroundColor","defaultColor","prev","next","MessageFile","onLayout","onSaveThumbnail","setArrMedia","thumbnailCache","Map","processedFiles","Set","fetchData","getFileComplete","filter","videosNeedThumbnail","current","has","newArrMediaLoading","map","isProcessing","some","v","result","forEach","res","video","path","set","add","newArrMedia","cachedThumbnail","thumbnail","error","console","log","arrMediaShow","slice","container","gap","data","renderItem","keyExtractor","clientId","toString","numColumns","scrollEnabled","columnWrapperStyle","initialNumToRender","maxToRenderPerBatch","windowSize","removeClippedSubviews","getItemLayout","_","offset","floor","create","flexDirection","marginVertical","paddingHorizontal","overflow","alignItems","justifyContent","marginBottom","position","fontSize","fontWeight","lineHeight","top","left"],"sourceRoot":"../../../../src","sources":["components/GiftedChat/MessageFile.tsx"],"mappings":"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","ignoreList":[]}
